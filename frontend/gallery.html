<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Meme Gallery</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="container">
    <h1>Gallery</h1>

    <a href="index.html" class="link">‚Üê Back to Generator</a>

    <div id="gallery" class="gallery"></div>
</div>

<script>
    async function loadGallery() {
    const response = await fetch("http://localhost:8080/api/memes");
    const memes = await response.json();

    const gallery = document.getElementById("gallery");
    gallery.innerHTML = "";

    memes.reverse().forEach(meme => {
        
        const memeCard = document.createElement("div");
        memeCard.classList.add("meme-card");
        
        
        const img = document.createElement("img");
        img.src = `http://localhost:8080/uploads/${meme.filename}`;
        img.classList.add("gallery-img");
        
        
        const link = document.createElement("a");
        link.href = `meme-post.html?id=${meme.id}`;
        link.classList.add("view-post-btn");
        link.textContent = "View Post";
        
        memeCard.appendChild(img);
        memeCard.appendChild(link);
        gallery.appendChild(memeCard);
    });
}

loadGallery();
</script>

</body>
</html>
